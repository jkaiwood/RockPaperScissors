<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RockPaperScissors</title>
</head>

<body>
    <script>
        //Initial prompt for user to get their selection, their choise is stored in playerSelection
        let playerChoice = prompt("What is your choice: Rock, Paper or Scissors?");
        const playerSelection = playerChoice.toLowerCase();

        const choices = ['rock', 'paper', 'scissors'];
        //This function takes a random value from the choices array to pass into computerSelection constant
        
        function randomSelection(choices) {
            let random = Math.floor(Math.random() * choices.length);
            const choicesPick = choices[random];
            return choicesPick;
        }

        let computerSelection = randomSelection(choices);

        let decision = "";

        //This is a callback function plays one round of rock paper scissors and  
        //uses a switch statement to determine the decision that is output to the console
        function playRound(computerSelection, playerSelection) {
            switch (computerSelection, playerSelection) {
                case 'rock', 'scissors':  
                    decision = "You lose rock beats scissors!";
                    return decision;
                    break;
                case 'scissors', 'paper':
                    decision = "You lose scissors beats paper!";
                    return decision;
                    break;
                case 'paper', 'rock':
                    decision = "You lose paper beats rock!";
                    return decision;
                    break;
                case 'scissors', 'rock':
                    decision = "You win rock beats scissors!";
                    return decision;
                    break;
                case 'paper', 'scissors':
                    decision = "You win scissors beats paper!";
                    return decision;
                    break;
                case 'rock', 'paper':
                    decision = "You win paper beats rock!";
                    return decision;
                    break;
                default:
                    decision = "It's a draw.";
            }
        }

        //This function utilizes the playRound function to play the game in a loop 5 times
        //the variables used will keep track of score based on the output to the console
        function game(computerSelection, playerSelection) {
            let computerScore = 0;
            let playerScore = 0;

            for (let i = 0; i < 5; i++) {
                playRound(computerSelection, playerSelection);
                if (decision.includes("win")) {
                    playerScore++;
                    computerScore--;
                } else if (decision.includes("lose")) {
                    playerScore--;
                    computerScore++;
                }
                console.log("Your score :" + playerScore + "\n" + "Computer score :" + computerScore);
            }
            //Final output based on the values in playerScore and computerScore
            if (playerScore > computerScore) {
                console.log("You are the winner!" + "\n" + "Final Score: " + "Player: " + playerScore + " Computer: " + computerScore);
            } else if (playerScore < computerScore) {
                console.log("You lose :(" + "\n" + "Final Score: Computer: " + computerScore + " Player: " + playerScore);
            }
        }


    </script>
</body>

</html>